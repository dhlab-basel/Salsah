<div class="salsah-step-by-step-form">
    <!-- form header with form stepper -->
    <!--
    <div class="salsah-form-stepper">
        <salsah-progress-stepper *ngIf="steps || max_steps" [steps]="steps"
                                 [counter]="counter"></salsah-progress-stepper>
    </div>
    <br>
    -->

    <salsah-progress-indicator *ngIf="isLoading"></salsah-progress-indicator>

    <div class="salsah-form-content" *ngIf="!isLoading">
        <mat-accordion class="headers-align">

            <mat-expansion-panel [expanded]="step === 0" *ngIf="!iri"
                                hideToggle="false">
                <!-- header -->
                <mat-expansion-panel-header>
                    <mat-panel-title>
                        {{formLabels.project.title}}
                    </mat-panel-title>
                    <mat-panel-description>
                        &nbsp;
                        <mat-icon>content_paste</mat-icon>
                    </mat-panel-description>
                </mat-expansion-panel-header>

                <form [formGroup]="form" (ngSubmit)="onSubmit(form.value, form.valid)">
                    <!-- short and long name -->
                    <mat-form-field class="small">
                        <input matInput [salsahFocus]="step === 1"
                               [maxlength]="shortcodeMaxLength"
                               [placeholder]="formLabels.project.shortcode + ' *'"
                               [formControl]="form.controls['shortcode']">
                        <mat-hint *ngIf="formErrors.shortcode">
                            {{ formErrors.shortcode }}
                        </mat-hint>
                    </mat-form-field>
                    <mat-form-field class="medium">
                        <input matInput [salsahFocus]="step === 1"
                               [maxlength]="shortnameMaxLength"
                               [placeholder]="formLabels.project.shortname + ' *'"
                               [formControl]="form.controls['shortname']">
                        <mat-hint *ngIf="formErrors.shortname">
                            {{ formErrors.shortname }}
                        </mat-hint>
                    </mat-form-field>
                    <mat-form-field class="large">
                        <input matInput
                               [placeholder]="formLabels.project.longname + ' *'"
                               [formControl]="form.controls['longname']">
                        <mat-hint *ngIf="formErrors.longname">
                            {{ formErrors.longname }}
                        </mat-hint>
                    </mat-form-field>

                    <!-- description -->
                    <mat-form-field class="large">
                        <textarea matInput rows="6"
                                  [placeholder]="formLabels.project.description"
                                  [formControl]="form.controls['description']">
                        </textarea>
                        <mat-hint *ngIf="formErrors.description">
                            {{ formErrors.description }}
                        </mat-hint>
                    </mat-form-field>

                    <!-- keywords -->
                    <mat-form-field class="large">
                        <input matInput
                               [placeholder]="formLabels.project.keywords"
                               [formControl]="form.controls['keywords']">
                        <mat-hint *ngIf="formErrors.keywords">
                            {{ formErrors.keywords }}
                        </mat-hint>
                    </mat-form-field>

                    <!-- upload logo -->
                    <salsah-file-uploader [file]="logo" (setFiles)="getFiles($event)"></salsah-file-uploader>
                    <!-- the form needs an input field for the logo name
                        the following input will be hidden and it gets the file name from the salsah-file-uploader -->
                    <br>
                    <input [placeholder]="formLabels.project.logo.name"
                           formControlName="logo">

                    <!-- footer -->
                    <mat-action-row>
                        <!-- checkbox, which activates the add user dialog form -->
                        <button mat-raised-button
                                [disabled]="!form.valid"
                                color="primary"
                                (click)="submitData()">
                            {{formLabels.navigation.submit}}
                        </button>
                    </mat-action-row>
                </form>
            </mat-expansion-panel>

        </mat-accordion>
    </div>
</div>

